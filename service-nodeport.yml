apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80          # The port exposed by the Service (clients inside the cluster connect here)
      targetPort: 80    # The port on the Pod where nginx is actually running so the service will forware a req to this port
      nodePort: 30007   # The port on each Node where the Service is accessible externally
  type: NodePort        # Service type that exposes the app on <NodeIP>:nodePort
